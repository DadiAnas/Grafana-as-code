# =============================================================================
# SSO CONFIGURATION â€” Shared across all environments
# =============================================================================
# Configure OAuth2/OpenID Connect SSO for Grafana.
# Environment-specific overrides go in config/<env>/sso.yaml.
#
# Supported providers: Keycloak, Okta, Azure AD, Google, GitHub, etc.
# Client secrets are fetched from Vault at: <env>/sso/keycloak
# =============================================================================

sso:
  # Set to true to enable SSO (requires Vault secret with client_secret)
  enabled: false

  # --- Example: Keycloak SSO ---
  # enabled: true
  # name: "Keycloak"
  #
  # # OAuth2 endpoints (adapt for your provider)
  # auth_url: "https://keycloak.example.com/realms/grafana/protocol/openid-connect/auth"
  # token_url: "https://keycloak.example.com/realms/grafana/protocol/openid-connect/token"
  # api_url: "https://keycloak.example.com/realms/grafana/protocol/openid-connect/userinfo"
  #
  # # Client configuration (client_secret stored in Vault)
  # client_id: "grafana"
  #
  # # OAuth settings
  # allow_sign_up: true
  # auto_login: false
  # scopes: "openid profile email groups"
  # use_pkce: true
  # use_refresh_token: true
  #
  # # Role mapping
  # role_attribute_strict: false
  #
  # # Team sync
  # teams_url: "https://keycloak.example.com/realms/grafana/protocol/openid-connect/userinfo"
  # team_ids_attribute_path: "groups[*]"
  #
  # # Sign out redirect
  # signout_redirect_url: "https://keycloak.example.com/realms/grafana/protocol/openid-connect/logout"
